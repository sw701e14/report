\section{Overview}
To ease the maintenance and ensure scalability, we have structured the project in an architecture which supports this.
The architecture consists of four macro components and a database, as can be seen in \cref{fig:architecture}. The macro components are: Shared, Location Service, Model Agent, and Web Service.\alexander{Maybe change the component name of `Model Updater' so it does not conflict with the layer name? \alexander{Changed name of component to `Model Agent'.}}

%\begin{figure}[h]
%\center
%\input{content/architecture_diagram.tex}
%\caption{The architecture of the system}
%\label{arch}
%\end{figure}

\begin{figure}[H]
\includegraphics[width=\textwidth, trim={0 8.5cm 8cm 0}]{systemArchitecture.pdf}
\caption{The architecture of the system}
\label{fig:architecture}
\end{figure}

\paragraph{Database} is a MySQL database, where all our data is stored.


\paragraph{Shared} is the macro component containing the \texttt{Data Access} layer and the \texttt{Data Transfer Object} layer.

\subparagraph{The Data Access layer} provides communication with the database.
All (SQL statements)/communication are encapsulated here providing the upper layers methods to communicate with the database.\alexander{Are `SQL statements' too specific?}

\subparagraph{The Data Transfer Object layer} contains all the shared data types and their attributes.
Using the \texttt{Data Transfer Object (DTO)} layer, data can be transfered between the \texttt{Web Service}, other macro components, and clients without several different data requests.\alexander{Is what we use really a DTO?}


\paragraph{Location Service} is the macro component containing the \texttt{Common} layer, the \texttt{Location Source} layer, and the \texttt{Data Collector} layer.
The macro component's task is to process and store location data directly from the data source. It is structured so the \texttt{Location Source} layer can easily be replaced.

\subparagraph{The Common layer} encapsulates and describes the fetched data, making it easier for the \texttt{Location Source} layer and \texttt{Data Collector} layer to process.

\subparagraph{The Location Source layer} fetched data from the data source then adapts and casts the data to the appropriate data type in the \texttt{Common} layer.

\subparagraph{The Data Collector layer} gathers the data from the \texttt{Location Source} layer and processes it according to the standards of the \texttt{Data Transfer Object} layer. The data is then stored through the \texttt{Data Access} layer.


\paragraph{Model Agent} is the macro component containing the \texttt{Model Updater} layer.

\subparagraph{The Model Updater layer}


\paragraph{Web Service}  is the macro component containing the \texttt{Model} layer, the \texttt{View} layer, and the \texttt{Controller} layer.

\subparagraph{The Model layer}

\subparagraph{The View layer}

\subparagraph{The Controller layer}